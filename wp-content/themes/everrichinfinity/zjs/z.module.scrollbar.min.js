(function(c){var ha=1;c.extendCore({moduleScrollbar:!0,moduleScrollbarOption:{width:0,height:0,innerWidth:0,innerHeight:0,horizontal:!1,scrollline:300,scrolllinetouchpad:40,scrolltime:800,usecss:!0,smooth:!0,bounce:!0,usekey:!0,usemouse:!0,usetouch:!0,shadow:!0,autohide:!0,alwayshide:!1,transition:2,snapElements:"",snapPositions:[],skipSnapWhenUseTouchpad:!1,looseSnap:!1,snapScrollUp:!0,snapScrollDown:!0,useinteger:!1,autorefresh:!1,autorefreshtime:1E3,customCssClass:"",customUsedefaultCssClass:"",
customStyleContainer:"",autoUseDefaultWhenWidthLessThan:0,autoUseDefaultWithMobile:!1,useDefault:!1,onResize:function(b,c,m){},onScroll:function(b,c,m){},nonui:!1,nonuiMaxScroll:400,debug:!1}});var ia=function(b,h){function m(){a.nonui||(t||(f=p.width(),k=p.height()),n=e.width(),q=e.height(),K=f*f/n,L=k*k/q,a.alwayshide||(a.horizontal?(D.width(K),r.width(f)):(D.height(L),r.height(k)),a.horizontal?n<=K?r.hide():r.show():q<=L?r.hide():r.show()),M(b))}var e=c(b);if(0<parseInt(e.getData("zmodulescrollbarid",
0)))e.refreshScroll();else{e.setData("zmodulescrollbarid",ha++);var a=c.clone(c.moduleScrollbarOption),u=e.getData("inlineoption","");""==u&&(u=e.getAttr("data-option",""));c.isString(u)&&""!=u.trim()&&(a=c.extend(a,u.jsonDecode()),e.setData("inlineoption",u));e.removeAttr("data-option");"undefined"!=typeof h&&(a=c.extend(a,h));a.horizontal&&(a.shadow=!1);a.customUsedefaultCssClass=a.customUsedefaultCssClass||"";a.customUsedefaultCssClass=a.customUsedefaultCssClass.trim();a.customUsedefaultCssClass=
""!=a.customUsedefaultCssClass?"zui-scrollbar-usedefault "+a.customUsedefaultCssClass:"zui-scrollbar-usedefault";a.autoUseDefaultWhenWidthLessThan=parseInt(a.autoUseDefaultWhenWidthLessThan);0>a.autoUseDefaultWhenWidthLessThan&&(a.autoUseDefaultWhenWidthLessThan=0);a.useDefault=!!a.useDefault;e.setData("zmodulescrollbarusedefault",!1);var r=a.alwayshide?!1:c('<div class="zui-scrollbar-wrap"><div class="zui-scrollbar"></div></div>'),D=a.alwayshide?!1:r.find(".zui-scrollbar"),u=e.width(),T=e.height();
try{"border-box"==e.style("box-sizing")&&(u-=e.style("border-left",!0)+e.style("border-right",!0),T-=e.style("border-top",!0)+e.style("border-bottom",!0))}catch(d){}var f=a.width||u,k=a.height||T,n=0,q=0,K=0,L=0,U=!1,x=!1,t=b==window.document.body,N=!1;if(!a.nonui&&t){e.style("overflow","hidden");var e=c("<div></div>"),v=c(b),u=c.enablehook();c.enablehook(!1);v.child().each(function(a){c(a).hasClass("zscrollnotinclude")||e.append(a)});c.enablehook(u);x=c(window);f=x.width();k=x.height();window.scrollTo(0,
0);v.setData("zmodulescrollbarcontentel",e);c(window).on("hashchange",function(a){a.preventDefault();a.stopPropagation();window.scrollTo(0,0)})}e.addClass("zui-scrollbar-content");e.setData("zmodulescrollbarthisiscontentel",!0);var G=a.usecss&&"webkitTransform"in document.createElement("div").style,y=e.item(0,!0),w=D?D.item(0,!0):!1,B=0,C=0;a.usecss=G;M(b);!a.nonui&&G&&(y.style.webkitTransform="translate3d(0, 0, 0)",w&&(w.style.webkitTransform="translate3d(0, 0, 0)"));a.nonui&&e.setData("zmodulescrollbarnonuipos",
0);e.setData("zmodulescrollbaroption",a);t?(c(window.document.body).setData("zmodulescrollbaroption",a),a.useDefault&&V(window.document.body,!0)):a.useDefault&&V(b,!0);var l=function(){return a.nonui?parseFloat(e.getData("zmodulescrollbarnonuipos",0)):e.getData("zmodulescrollbarusedefault",!1)?t?a.horizontal?-c(window).scrollLeft():-c(window).scrollTop():a.horizontal?-e.scrollLeft():-e.scrollTop():G?B:a.horizontal?e.left():e.top()},p=a.nonui?e:c("<div></div>");a.nonui||(t?p.appendTo(b):p.insertBefore(b),
p.addClass(a.customCssClass).style({position:"relative",overflow:"hidden",width:f,height:k}),p.addClass(t?"body-scroll":"not-body-scroll").addClass(a.horizontal?"zui-scrollbar-horizontal":"zui-scrollbar-vertical"),p.append(e),e.style({position:"absolute",left:0,top:0,overflow:"visible"}),a.horizontal?e.style({width:"auto",height:k}):e.style({height:"auto",width:f}),a.innerWidth&&!isNaN(a.innerWidth)&&e.width(a.innerWidth),a.innerHeight&&!isNaN(a.innerHeight)&&e.height(a.innerHeight),a.alwayshide||
(p.append(r),r.style({position:"absolute",opacity:a.autohide?0:1,display:a.alwayshide?"none":"block"}),a.horizontal?r.width(f):r.height(k),D.style("position","absolute")));m();a.onResize(-l(),f,k);t?v.trigger("scrollbar.windowResize",{scrollTop:-l(),width:f,height:k}):e.trigger("scrollbar.windowResize",{scrollTop:-l(),width:f,height:k});var ca=a.shadow?c('<div class="zui-scrollbar-shadow"></div>').appendTo(p).hide():!1,A=c.timer({time:a.scrolltime,transition:a.transition,onStart:function(){N=!0;m()},
onProcess:function(a){O(a)},onFinish:function(a,b){O(b);z.run();P=N=!1},onStop:function(){P=N=!1}}),z=c.timer({from:50,to:0,time:2E3,onProcess:function(d){a.nonui||!a.autohide||a.alwayshide||r.style("opacity",d)},onFinish:function(d,b){a.nonui||!a.autohide||a.alwayshide||r.style("opacity",b)}}),E=function(){if(a.nonui)return!0;m();var d=!0;(d=a.horizontal?n>f:q>k)||O(0);return d},da=0,O=function(d){if(a.useinteger){d=parseInt(d);if(d==da)return;da=d}if(t&&e.getData("zmodulescrollbarusedefault")){var b=
d;nativeBodyMoveContentElTimer.stop();l();a.horizontal?document.body.scrollLeft=-b:document.body.scrollTop=-b}else ea(d);!a.nonui&&a.shadow&&(-5>d?ca.show():ca.hide());if(!a.nonui)a.onScroll(-d,f,k);a.nonui?e.trigger("scrollbar.scroll",{scrollTop:-d}):t?v.trigger("scrollbar.scroll",{scrollTop:-d,scrollBottom:n-f+d,width:f,height:k}):e.trigger("scrollbar.scroll",{scrollTop:-d,scrollBottom:n-f+d,width:f,height:k})},ea=a.nonui?function(a){B=a;e.setData("zmodulescrollbarnonuipos",a)}:a.horizontal&&G?
function(d){B=d;y.style.webkitTransform="translate3d("+d+"px, 0, 0)";a.alwayshide||(C=-d*f/n,w.style.webkitTransform="translate3d("+C+"px, 0, 0)")}:!a.horizontal&&G?function(d){B=d;y.style.webkitTransform="translate3d(0, "+d+"px, 0)";a.alwayshide||(C=-d*k/q,w.style.webkitTransform="translate3d(0, "+C+"px, 0)")}:a.horizontal?function(d){y.style.left=d+"px";a.alwayshide||(w.style.left=-d*f/n+"px")}:function(d){y.style.top=d+"px";a.alwayshide||(w.style.top=-d*k/q+"px")},g=function(d,b,e){m();A.isRunning()&&
A.stop();if(!a.smooth||"undefined"!=typeof b&&1==b){"undefined"==typeof e&&(a.nonui&&d<-a.nonuiMaxScroll&&(d=-a.nonuiMaxScroll),!a.nonui&&a.horizontal&&d<f-n&&(d=f-n),!a.nonui&&!a.horizontal&&d<k-q&&(d=k-q),0<d&&(d=0));if(l()==d)return!1;a.nonui||(z.stop(),a.alwayshide||r.style("opacity",1),a.smooth||z.run());O(d);return!0}b=l();A.set({from:b,to:d,transition:a.transition});a.nonui&&d<-a.nonuiMaxScroll&&(d=-a.nonuiMaxScroll,A.set({from:b,to:d,transition:a.bounce?3:a.transition}));!a.nonui&&a.horizontal&&
d<f-n&&(d=f-n,A.set({from:b,to:d,transition:a.bounce?3:a.transition}));!a.nonui&&!a.horizontal&&d<k-q&&(d=k-q,A.set({from:b,to:d,transition:a.bounce?3:a.transition}));0<d&&(d=0,A.set({from:b,to:d,transition:a.bounce?3:a.transition}));if(l()==d)return H=!1;a.nonui||(z.stop(),a.alwayshide||r.style("opacity",1));U||A.run();return!0},Q=function(d,b){if(a.nonui)return!1;if(a.horizontal)return g(-d/f*n,b);g(-d/k*q,b)},H=!1,I=function(d,b,c,f){H=!1;var k=d+b*(c?a.scrolllinetouchpad:a.scrollline);if(a.skipSnapWhenUseTouchpad&&
c)return k;var g=d,l=!1;if(f&&(f=t?v.getData("zmodulescrollbarsnappositions"):e.getData("zmodulescrollbarsnappositions"))){if(0>b)for(var h=0;h<f.length;h++)if(-f[h]<d-10){g=-f[h];l=!0;break}if(0<b)for(h=f.length-1;0<=h;h--)if(-f[h]>d+10){g=-f[h];l=!0;break}if(l){if(a.looseSnap&&Math.abs(d-g)>Math.abs(d-k+(c?a.scrolllinetouchpad:0)))return k;H=!0;return g}}return k},P=!1,fa=c.isMobileDevice();if(a.usemouse)p.on("mousewheel",function(d,b){if((!e.getData("zmodulescrollbarusedefault")||!fa)&&E())if(P)d.preventDefault(),
d.stopPropagation();else{var c=!1,c=l(),c=I(l(),d.deltaY(),d.isTouchpad(),0<d.deltaY()&&a.snapScrollUp||0>d.deltaY()&&a.snapScrollDown),f=d.isTouchpad()&&!H,c=g(c,f);H&&d.isTouchpad()&&(P=!0);c&&(d.preventDefault(),d.stopPropagation())}});var W=!1;p.hover(function(){W=!0},function(){W=!1});if(a.usekey){var X=!0;c("body").on("keydown",function(d){if(!e.getData("zmodulescrollbarusedefault")&&E()&&W&&X){var b=X=!1,c=0;b||40!=d.keyCode()&&38!=d.keyCode()&&37!=d.keyCode()&&39!=d.keyCode()||(c=I(l(),40==
d.keyCode()||39==d.keyCode()?-1:1,!1,40==d.keyCode()&&a.snapScrollDown||39==d.keyCode()&&a.snapScrollUp),b=g(c));b||!a.horizontal||37!=d.keyCode()&&39!=d.keyCode()||(c=I(l(),39==d.keyCode()?-1:1,!1,!0),b=g(c));if(!b&&36==d.keyCode()){if(a.horizontal)return g(n);b=g(q)}if(!b&&35==d.keyCode()){if(a.horizontal)return g(-n);b=g(-q)}b||33!=d.keyCode()||(b=a.horizontal?g(l()+f):g(l()+k));b||34!=d.keyCode()||(b=a.horizontal?g(l()-f):g(l()-k));b&&(d.preventDefault(),d.stopPropagation())}}).on("keyup",function(a){X=
!0})}a.alwayshide||r.on("mousedown",function(b){E()&&(a.horizontal?Q(b.x()-K/2):Q(b.y()-L/2),b.preventDefault(),b.stopPropagation())}).hover(function(a){E()&&(z.stop(),r.setStyle("opacity",1),a.preventDefault())},function(a){E()&&(z.run(),a.preventDefault())});var Y=0;a.alwayshide||D.drag({onStart:function(a){a.preventDefault();a.stopPropagation();Y=C},onDrag:function(b,e,c,f){E()&&(z.stop(),r.setStyle("opacity",1),a.horizontal?Q(Y+f.left+c.x,!0):Q(Y+f.top+c.y,!0),b.preventDefault(),b.stopPropagation())},
onDrop:function(a){a.preventDefault();a.stopPropagation()}});var J=-1,R=-1,Z=0,aa=-1,ba=0;a.usetouch&&c.isTouchDevice()&&(p.on("touchstart",function(b,c){if(!e.getData("zmodulescrollbarusedefault")){z.stop();if(!a.nonui){var f=document.defaultView.getComputedStyle(y,null),f=new WebKitCSSMatrix(f.webkitTransform);y.style.webkitTransition="";w&&(w.style.webkitTransition="");ea(f.m42)}b.touchX();J=b.touchY();R=l();Z=b.timeStamp()}}),p.on("touchmove",function(b,c){if(!e.getData("zmodulescrollbarusedefault")&&
!a.nonui){b.preventDefault();b.touchX();aa=b.touchY();ba=b.timeStamp();var h=b.touchY()-J+R;if(a.horizontal&&h<f-n||!a.horizontal&&h<k-q||0<h)h=(b.touchY()-J)/4+R;g(h,!0,!0)}}),p.on("touchend",function(b,c){if(!e.getData("zmodulescrollbarusedefault")){z.run();if(!a.nonui){var h=(aa-J)/(ba-Z);isNaN(h)&&(h=0);var g=0>h?5E-4:-5E-4,l=-h/g,g=B+-(h*h)/(2*g);!a.nonui&&a.horizontal&&g<f-n&&(0>h&&g>f-n-500&&(l=180),g=f-n);!a.nonui&&!a.horizontal&&g<k-q&&(0>h&&g>k-q-500&&(l=180),g=k-q);0<g&&(0<h&&500>g&&(l=
180),g=0);B=g;y.style.webkitTransition="-webkit-transform "+l+"ms cubic-bezier(0.33, 0.66, 0.66, 1)";y.style.webkitTransform="translate3d(0, "+B+"px, 0)";a.alwayshide||(C=-g*k/q,w.style.webkitTransition="-webkit-transform "+l+"ms cubic-bezier(0.33, 0.66, 0.66, 1)",w.style.webkitTransform="translate3d(0, "+C+"px, 0)")}J=-1;Z=R=void 0;aa=-1;ba=void 0}}));u={pauseScrollEvent:function(){U=!0},continueScrollEvent:function(){U=!1},refreshScroll:function(){if(!a.nonui)return t?(p.height(k=x.height()).width(f=
x.width()),a.horizontal?e.height(k):e.width(f)):a.horizontal?p.height(k=e.height()):p.width(f=e.width()),m(),g(l(),!0)},scrollLineUp:function(){return g(l()+a.scrollline)},scrollLineDown:function(){return g(l()-a.scrollline)},scrollPageUp:function(){return a.horizontal?g(l()+f):g(l()+k)},scrollPageDown:function(){return a.horizontal?g(l()-f):g(l()-k)},scrollNextSnap:function(){return g(I(l(),-1,!1,!0))},scrollPrevSnap:function(){return g(I(l(),1,!1,!0))},scrollToTop:function(){return a.nonui?g(0):
a.horizontal?g(n):g(q)},scrollToEnd:function(){return a.nonui?g(-a.nonuiMaxScroll):a.horizontal?g(-n):g(-q)},scrollTo:function(a,b){a=a||0;if("number"==typeof b){var c=-l();if(c<=a&&c>=a-b||c>=a&&c<=a+b)return g(-a);g(-a+b,!0);return g(-a)}return g(-(a||0),b)},scrollToElement:function(b,f,h){b=c.isString(b)?e.find(b):c(b);return g(-b.getStyle(a.horizontal?"left":"top",!0)-(f||0),h)},scrollPosition:function(){return-l()}};t?(v.setData("zmodulescrollbarcontainerel",p),v.setData("zmodulescrollbarfunctions",
u)):(p.setData("zmodulescrollbarcontentel",e),e.setData("zmodulescrollbarcontainerel",p),e.setData("zmodulescrollbarfunctions",u));!a.nonui&&a.autorefresh&&window.setInterval(function(){N||g(l(),!0)},a.autorefreshtime);if(t){var S=a.autoUseDefaultWhenWidthLessThan,F=x.width()<=S,ga=function(){0<S&&(x.width()<=S&&!F&&(F=!0,v.scrollbarUseDefault(!0)),x.width()>S&&F&&(F=!1,v.scrollbarUseDefault(!1)))};x.on("resize",function(){v.refreshScroll();ga();a.onResize(-l(),f,k);v.trigger("scrollbar.windowResize",
{scrollTop:-l(),width:f,height:k})});F=!F;ga()}a.autoUseDefaultWithMobile&&fa&&(t?v.scrollbarUseDefault(!0):e.scrollbarUseDefault(!0));t?v.trigger("scrollbar.ready"):e.trigger("scrollbar.ready");t&&function(){""!=document.location.hash&&v.scrollToElement(document.location.hash)}.delay(500)}},M=function(b){var h=c(b),m=b==window.document.body,e=h.getData("zmodulescrollbaroption",!1);if(!e)return!1;var a=!1;e.snapPositions&&c.isArray(e.snapPositions)&&(a=c.clone(e.snapPositions));e.snapElements&&(b=
h.find(e.snapElements),0<b.count()&&(c.isArray(a)||(a=[]),b.each(function(b){b=c(b);a.push((m?e.horizontal?b.getAbsoluteLeft():b.getAbsoluteTop():e.horizontal?b.left():b.top())+parseInt(b.getAttr("data-snap-modify-px",0)))})));c.isArray(a)&&(a=a.sort(function(a,b){return parseInt(a)-parseInt(b)}));h.setData("zmodulescrollbarsnappositions",a)},ja=function(b,h,m){m=m||!1;b=c(b);var e=b.getData("zmodulescrollbaroption",!1),a=b.getData("zmodulescrollbarcontainerel",!1);if(!e)return!1;c(h).on("resize",
function(){e.horizontal||(a.height(this.height()),m&&a.width(this.width()))})},V=function(b,h){h=h||!1;var m=c(b),e=m.getData("zmodulescrollbarcontainerel"),a=m.getData("zmodulescrollbaroption",!1);if(!a)return!1;b==window.document.body&&(e=c(b),m=e.getData("zmodulescrollbarcontentel"));h?e.addClass(a.customUsedefaultCssClass):e.removeClass(a.customUsedefaultCssClass);m.setData("zmodulescrollbarusedefault",h)};c.extendMethod({makeScrollbar:function(b){return this.each(function(c){ia(c,b)})},pauseScrollEvent:function(){return this.each(function(b){b=
c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.pauseScrollEvent&&b.pauseScrollEvent()})},continueScrollEvent:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.continueScrollEvent&&b.continueScrollEvent()})},refreshScroll:function(){return this.each(function(b){var h=c(b).getData("zmodulescrollbarfunctions");"function"==typeof h.refreshScroll&&h.refreshScroll();M(b)})},scrollbarRefreshSnapPositions:function(){return this.each(function(b){M(b)})},
scrollLineUp:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollLineUp&&b.scrollLineUp()})},scrollLineLeft:function(){return this.scrollLineUp()},scrollLineDown:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollLineDown&&b.scrollLineDown()})},scrollLineRight:function(){return this.scrollLineDown()},scrollPageUp:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");
"function"==typeof b.scrollPageUp&&b.scrollPageUp()})},scrollPageDown:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollPageDown&&b.scrollPageDown()})},scrollNextSnap:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollNextSnap&&b.scrollNextSnap()})},scrollPrevSnap:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollPrevSnap&&
b.scrollPrevSnap()})},scrollToTop:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollToTop&&b.scrollToTop()})},scrollToEnd:function(){return this.each(function(b){b=c(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollToEnd&&b.scrollToEnd()})},scrollToBottom:function(){return this.scrollToEnd()},scrollTo:function(b,h){return this.each(function(m){m=c(m).getData("zmodulescrollbarfunctions");"function"==typeof m.scrollTo&&m.scrollTo(b,
h)})},scrollToElement:function(b,h,m){return this.each(function(e){e=c(e).getData("zmodulescrollbarfunctions");"function"==typeof e.scrollToElement&&e.scrollToElement(b,h,m)})},scrollPosition:function(){var b=this.item(0).getData("zmodulescrollbarfunctions");return"function"==typeof b.scrollPosition?b.scrollPosition():0},scrollContainer:function(){return c(this.item(0).getData("zmodulescrollbarcontainerel"))},scrollHeight:function(b){b=this.scrollContainer().height(b);return"number"==typeof b?b:this},
scrollContainerHeight:function(b){b=this.scrollContainer().height(b);return"number"==typeof b?b:this},iszScrollbar:function(){return"object"==typeof this.item(0).getData("zmodulescrollbaroption")},scrollbarUseDefault:function(b){this.scrollToTop();return this.each(function(c){V(c,b)})},scrollbarSetWrapperSizeElement:function(b){return this.each(function(c){ja(c,b)})}});c.hook({after_setInnerHTML:function(b){c(b).find(".zscroll").makeScrollbar();c(b).refreshScroll().parent().refreshScroll().parent().refreshScroll()},
after_insertDOM:function(b){c(b).hasClass("zscroll")&&c(b).makeScrollbar();c(b).find(".zscroll").makeScrollbar();c(b).parent().refreshScroll().parent().refreshScroll().parent().refreshScroll()},before_removeDOM:function(b){0>=parseInt(c(b).getData("zmodulescrollbarid",0))||c(b).scrollContainer().remove()}});c.onready(function(){c(".zscroll").makeScrollbar()});"required"in c&&c.required("scrollbar")})(zjs);