(function(e){"use strict";var t="zjsmodulebinScrollTooption",n=e(window),r=e("body"),i=false;e.extendCore({modulebinScrollToOption:{gotoValueElement:"",gotoTop:0,gotoElement:"",gotoTime:1e3,gotoTransition:2,extraPixel:0}});var s=e.timer({onProcess:function(e){window.scrollTo(0,e)},onFinish:function(){i=false}});n.on("mousewheel",function(e){if(i==true){s.stop();i=false}});var o=function(t){var o=e.extend(e.clone(e.modulebinScrollToOption),t);var u=o.gotoTop;if(o.gotoElement!="")u=e(o.gotoElement).getAbsoluteTop();else if(o.gotoValueElement!="")u=parseInt(e(o.gotoValueElement).getValue(0));u+=parseInt(o.extraPixel);if(u>=r.height()){u=r.height();if(o.gotoValueElement!="")e(o.gotoValueElement).setValue(u)}s.stop();s.set({from:n.scrollTop(),to:u,time:o.gotoTime,transition:o.gotoTransition});s.run();i=true};var u=function(n,r){var i=e(n);var s=i.getData(t);if(s){i.setData(t,e.extend(s,r));return}s=e.clone(e.modulebinScrollToOption);var u=i.getAttr("data-option","");if(e.isString(u)&&u.trim()!="")s=e.extend(s,u.jsonDecode());i.removeAttr("data-option");if(typeof r!="undefined")s=e.extend(s,r);i.setData(t,s);i.click(function(e){s=i.getData(t);o(s)})};e.extendMethod({makeBinScrollTo:function(e){return this.each(function(t){u(t,e)})},binScrollTo:function(e){o(e);return this}});e.hook({after_setInnerHTML:function(t){var n=e(t);n.find(".binscrollto").makeBinScrollTo()},after_insertDOM:function(t){if(e(t).hasClass("binscrollto"))e(t).makeBinScrollTo();e(t).find(".binscrollto").makeBinScrollTo()}});e.onready(function(){e(".binscrollto").makeBinScrollTo()});if("required"in e)e.required("bin.scrollto")})(zjs)