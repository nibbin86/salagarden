zjs.require("ui",function(){var h=!1;zjs(window).on("mousewheel",function(b){h&&h.stop()});zjs.extendCore({moduleUiAccordionOption:{transition:"vertical",titleclass:"h3",activesession:0,allowclose:!1,useurlhash:!1,autoscroll:!1,separate:!1,scrollmargintop:0}});contentclass="zui-accordion-content";var q=function(b,c){var d=zjs(b),a=d.getData("zmoduleuiaccordionoption");if(a)d.setData("zmoduleuiaccordionoption",zjs.extend(a,c));else{var a=zjs.clone(zjs.moduleUiAccordionOption),f=d.getAttr("data-option",
"");zjs.isString(f)&&""!=f.trim()&&(a=zjs.extend(a,f.jsonDecode()));d.removeAttr("data-option");"undefined"!=typeof c&&(a=zjs.extend(a,c));"none"==a.transition&&(a.transition=0);if("fade"==a.transition||"fadein"==a.transition)a.transition=1;"horizontal"==a.transition&&(a.transition=2);"vertical"==a.transition&&(a.transition=3);3<a.transition.toInt()&&(a.transition=0);zjs.isNumeric(a.activesession)||(a.activesession=0);a.useurlhash=!!a.useurlhash;a.autoscroll=!!a.autoscroll;a.scrollmargintop=parseInt(a.scrollmargintop);
zjs.isNumeric(a.scrollmargintop)||(a.scrollmargintop=0);d.setData("zmoduleuiaccordionoption",a);d.addClass("zui-accordion");var e=!1,h=0;d.child().each(function(b){b=zjs(b);b.is(a.titleclass)?(b.addClass("zui-accordion-title").setData("zmoduleuiaccordiontitleindex",h++).click(function(){g(d,this.getData("zmoduleuiaccordiontitleindex").toInt())}),b.on("ui.sidenav.out.trigger",function(a){this.hasClass("active")||(g(d,this.getData("zmoduleuiaccordiontitleindex").toInt(),!1,!0),a.preventDefault())}),
b=zjs("<div></div>").addClass("zui-accordion-session").insertAfter(b),e=zjs("<div></div>").addClass(contentclass).appendTo(b)):e&&e.append(b)});a.separate&&d.find(">.zui-accordion-session").hide();f=!1;a.useurlhash&&(f=l(b),zjs(window).on("hashchange",function(a){zjs(b).getData("zmoduleuiaccordionpreventhashevent")?zjs(b).setData("zmoduleuiaccordionpreventhashevent",!1):l(b)}));f||g(b,a.activesession);d.trigger("ui.accordion.load")}},l=function(b){if(""!=document.location.hash){var c=zjs(b),d=c.getData("zmoduleuiaccordionoption");
if(d&&d.useurlhash){var d=!1,a=c.find('[data-name="'+document.location.hash.substr(1)+'"]');0>=a.count()&&(a=c.find("#"+document.location.hash.substr(1)));0<a.count()&&(c=parseInt(a.getData("zmoduleuiaccordiontitleindex",-1)),0<=c&&(g(b,c,!0),d=!0));return d}}},g=function(b,c,d,a){a=a||!1;var f=zjs(b),e=f.getData("zmoduleuiaccordionoption");if(e){var g=f.find(".zui-accordion-title").item(c);if(g.hasClass("active")){if(e.allowclose){var k=f.find(">.zui-accordion-session").item(c);k.hasClass("active")&&
(k.hideScale({time:500}),k.removeClass("active"));g.removeClass("active")}}else f.find(">.zui-accordion-session").each(function(g,k){var m=zjs(g);if(k==c){m.showScale({time:500}).addClass("active");var p=!1,n="";(e.useurlhash||e.autoscroll||a)&&f.find(e.titleclass).each(function(a){a=zjs(a);if(a.getData("zmoduleuiaccordiontitleindex")==c)return n=a.getAttr("data-name",""),""==n&&(n=a.getAttr("id","")),p=a,!1});e.useurlhash&&""!=n&&(d||zjs(b).setData("zmoduleuiaccordionpreventhashevent",!0),document.location.hash=
n);if((a||e.autoscroll)&&p){h&&h.stop();var l=p.getAbsoluteTop()-e.scrollmargintop;h=zjs.timer({from:0,to:1,time:1E3,onProcess:function(a,b,c){a=p.getAbsoluteTop()-e.scrollmargintop;window.scrollTo(zjs(window).scrollLeft(),parseInt((l+a)/2));l=a}});h.run()}}else e.separate||(m.hasClass("active")?m.hideScale({time:500}):m.hide(),m.removeClass("active"))}),f.find(">.zui-accordion-title").each(function(a,b){var d=zjs(a);b==c?zjs(a).addClass("active"):e.separate||d.removeClass("active")}),function(){zjs(".zsidenav").trigger("ui.sidenav.refresh")}.delay(1E3)}};
zjs.extendMethod({makeAccordion:function(b){return this.each(function(c){q(c,b)})},accordionSelectSession:function(b){return this.each(function(c){g(c,b)})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zaccordion").makeAccordion()},after_insertDOM:function(b){zjs(b).hasClass("zaccordion")&&zjs(b).makeAccordion();zjs(b).find(".zaccordion").makeAccordion()}});zjs.onready(function(){zjs(".zaccordion").makeAccordion()});"required"in zjs&&zjs.required("ui.accordion")});