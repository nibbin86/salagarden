zjs.require("image.slider, image.loader, transition",function(g){g.regSliderTheme("linear",function(z,d,a){a=g.extend({width:0,height:0,transition:0,transitionTime:1600,transitionTimingfunction:2,border:!1,preload:!1,autoplay:!0,autoplayTime:6E3,playButton:!1,navButton:!0,navButtonParentIsRoot:!1,navThumb:!0,navDot:!0,showInfo:!0,linkTitle:!1,linkCover:!1,sequent:!0,usePercentWidth:!1,navThumbSlider:!1,navThumbSliderTransition:"horizontal-page",navThumbSliderTransitionTime:1600,navThumbSliderTransitionTimingfunction:2,
navThumbSliderNavButton:!0,navThumbSliderUsePercentWidth:!1,navThumbSliderAutoHeight:!1,autoHeight:!1,fullHeight:!1,fullWidth:!0,fullscreenWidth:!1,scaleHeightWhenWidthLessThan:0,autoDisableWhenWidthLessThan:0,autoDisableWhenWidthLargerThan:0,hoverToSlide:!1,navButtonTemplate:'<a class="nav-button"></a>',navThumbTemplate:'<a class="nav-image"></a>',navDotTemplate:'<a class="nav-dot">.</a>',customElementsClass:"elements",customTransitionClass:"transition",usecss:!0,contentSlide:!1,navImagesElMargin:0,
startIndex:0,dragSlide:!1,popup:!1,popupOnly:!1,popupShowOnClick:!0,popupHideOnClickOut:!1,popupCloseButton:!0,popupAllowKeyboard:!0,popupAnimate:!1,popupAnimateTime:1E3,popupAnimateName:"fadeInDown fadeOutUp",popupTransition:!1,popupTransitionTime:!1,popupTransitionTimingfunction:!1,popupAutoplay:!0,popupAutoplayTime:6E3,popupPlayButton:!1,popupNavButton:!0,popupNavButtonParentIsRoot:!1,popupNavThumb:!0,popupNavDot:!0,popupLinkTitle:!1,popupLinkCover:!1,popupSequent:!0,popupFullscreenWidth:!1,popupPageCoverClass:"",
popupContainerClass:"",onChange:function(a){},allowChange:function(a){return!0},debug:!1},a);if(!a.contentSlide){var ya=[];g.foreach(d,function(a){""!=a.src&&ya.push(a)});d=ya}for(var D=0;D<d.length;D++)d[D].index=D;a.width=parseInt(a.width);a.height=parseInt(a.height);"none"==a.transition&&(a.transition=0);if("fade"==a.transition||"fadein"==a.transition)a.transition=1;if("horizontal"==a.transition||"slide-horizontal"==a.transition||"horizontal-slide"==a.transition)a.transition=2;"horizontal-stack"==
a.transition&&(a.transition=201);"horizontal-page"==a.transition&&(a.transition=202);"horizontal-center"==a.transition&&(a.transition=203);"horizontal-stack-center"==a.transition&&(a.transition=204);"horizontal-page-center"==a.transition&&(a.transition=205);if("vertical"==a.transition||"slide-vertical"==a.transition||"vertical-slide"==a.transition)a.transition=3;2>d.length&&(a.autoplay=!1);if(200<a.transition){a.fullWidth=!1;a.fullscreenWidth=!1;if(201==a.transition||202==a.transition||204==a.transition||
205==a.transition)a.navButtonParentIsRoot=!0;if(202==a.transition||205==a.transition)a.sequent=!0}a.usePercentWidth=!!a.usePercentWidth;a.autoHeight=!!a.autoHeight;a.fullscreenWidth&&(a.fullWidth=!1);a.contentSlide&&(a.preload=!1,a.navThumb=!1,a.hoverToSlide=!1,a.showInfo=!1);a.startIndex=parseInt(a.startIndex);0>a.startIndex&&(a.startIndex=0);a.startIndex>=d.length&&(a.startIndex=d.length-1);a.navThumbSlider&&(a.navButtonParentIsRoot=!0,a.navThumb=!1);a.popupOnly&&(a.popup=!0);a.popupAnimate&&(a.popupAnimateTime=
parseInt(a.popupAnimateTime),g.require("ui.popup"));a.scaleHeightWhenWidthLessThan=parseInt(a.scaleHeightWhenWidthLessThan);0>a.scaleHeightWhenWidthLessThan&&(a.scaleHeightWhenWidthLessThan=0);a.autoDisableWhenWidthLessThan=parseInt(a.autoDisableWhenWidthLessThan);0>a.autoDisableWhenWidthLessThan&&(a.autoDisableWhenWidthLessThan=0);a.autoDisableWhenWidthLargerThan=parseInt(a.autoDisableWhenWidthLargerThan);0>a.autoDisableWhenWidthLargerThan&&(a.autoDisableWhenWidthLargerThan=0);var e=g(z),Q=g(document.body),
M=e.parent(),Ia=!!e.getData("zmodulesliderlinearispopup",!1),ka=e.html();e.removeAttr("data-option");a.dragSlide&&e.addClass("drag");e.addClass(a.usePercentWidth?"use-percent":"use-pixel");e.find(a.slideitem).each(function(b,c){if(!(c>=d.length)){var f=g(b).getAttr("data-option","");g.isString(f)&&""!=f.trim()&&(f=f.jsonDecode());g.isObject(f)||(f=!1);d[c].option=f;f=g(b).find("."+a.customElementsClass);0>=f.count()&&a.contentSlide&&(f=g(b));d[c].customEl=f.clone(!0)}});var G=!0,R=!1,v=!1;if(a.popupOnly)a.popupShowOnClick&&
e.find(a.slideitem).each(function(a,c){g(a).setAttr("data-index",c).click(function(a){a.preventDefault();a=this.getAttr("data-index");W(a);e.trigger("slider.click",{index:a})})});else{var D=e.find("ul,ol,table,div").item(0),za=g("<div></div>").html('<div class="image-view"><div class="image-view-wrap"></div><div class="image-view-border"></div></div><div class="image-info-wrap"><div class="image-info-container"><div class="image-title"><h4></h4></div><div class="image-description"></div></div></div><div class="image-linkcover-wrap"><a href="#"></a></div><div class="play-wrap"><a class="play-process-bar"></a><div class="playpause-button"></div></div><div class="nav-wrap"><div class="nav-container"><div class="nav-dots-wrap"><div class="nav-dots"></div></div><a class="nav-button nav-back"></a><div class="nav-images-wrap"><div class="nav-images"></div></div><a class="nav-button nav-next"></a></div></div>'),
v=g("<div></div>").addClass("imageslider-wrap");D.count()?v.insertAfter(D):v.appendTo(e);za.child().each(function(a){g(a).appendTo(v)});e.find(a.slideitem).remove();D.remove();za.remove();e.addClass("imageslider-linear");e.addClass("total-image-"+d.length);201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||e.addClass("horizontal-stack");203==a.transition&&e.addClass("horizontal-center");204==a.transition&&e.addClass("horizontal-stack-center");205==a.transition&&
e.addClass("horizontal-page horizontal-page-center")}var S=e.find(".nav-images-wrap"),D=e.find(".nav-dots-wrap"),Aa=e.find(".nav-dots"),B=e.find(".nav-images"),H=0,T=e.find(".image-view");e.find(".image-view-border");var h=e.find(".image-view-wrap"),la=e.find(".image-title h4"),Ja=e.find(".image-description"),X=e.find(".image-linkcover-wrap"),k=-1,q=-1,Ba="",Y="",ma="",J="",m=1,w=-1,x=-1,l=a.width,p=a.height,Z=p,Ka=1;if(a.fullscreenWidth||a.fullWidth||a.usePercentWidth)l=a.fullscreenWidth?Q.width():
M.width();a.fullHeight&&(p=M.height());0>=l&&(l=h.width());0>=l&&(l=M.width());0>=l&&(l=Q.width());0>=p&&(p=h.height());0>=p&&(p=parseInt(M.height()));if(0>=p)try{var A=h.getCss();if(A){var Ca=A.match(/(^|[^a-z-])height:\s*(\d+)\s*px/);g.isArray(Ca)&&(p=parseInt(Ca[2]))}}catch(b){}0>=p&&(p=376);Z=p;a.fullHeight||T.height(p);a.fullscreenWidth||a.fullWidth||a.usePercentWidth||T.width(l);h.setStyle("position","absolute");var Da=h.item(0,!0),y=0,r=-1,N="cubic-bezier(0, 0, 1, 1)",C=!1,U=function(){C&&
h.setStyle("transition","transform "+a.transitionTime+"ms "+N)},aa=function(){C&&h.setStyle("transition","")};if(g.supportTransform&&a.usecss){C=!0;h.setStyle("transform","translate3d(0, 0, 0)");switch(a.transitionTimingfunction){case 1:case "sinoidal":N="cubic-bezier(0,0,.58,1)";break;case 2:case "quadratic":N="cubic-bezier(0,1,.53,1)";break;case 3:case "cubic":N="cubic-bezier(.34,.95,.84,1.39)";break;case 4:case "elastic":N="cubic-bezier(.71,1.61,.5,.82)"}U()}d.each(function(b,c){if(!a.popupOnly&&
(""!=b.src||a.contentSlide)){if(a.navThumb){var f=a.navThumbTemplate;g.isFunction(f)&&(f=f(c));f=f.format({index:c,src:b.src,title:b.title,description:b.description});f=g(f).addClass("nav-image").setStyle("background-image","url("+b.src+")").setAttr("data-index",c).appendTo(B).on(a.hoverToSlide?"hover":"click",function(a,b){var c=g(b).getAttr("data-index").toInt();t(c)});b.title&&f.find(".title").html(b.title);H=f.getStyle("margin-right",!0);if(isNaN(H)||!H)H=a.navImagesElMargin}a.navDot&&(f=a.navDotTemplate,
g.isFunction(f)&&(f=f(c)),f=f.format({index:c,src:b.src,title:b.title,description:b.description}),g(f).addClass("nav-dot").setAttr("data-index",c).appendTo(Aa).click(function(a,b){var c=g(b).getAttr("data-index").toInt();t(c)}));var f=g('<div class="image-hold"></div>').addClass("image"+c).setData("image-index",c).appendTo(h).append(b.customEl),e=f.width();a.contentSlide||f.setStyle({"background-image":"url("+(Ia?b.srcpopup||b.srclarge||b.src:250>e?b.src:b.srclarge||b.src)+")",top:0,left:0});0!=a.transition&&
1!=a.transition||f.setStyle({opacity:0,"z-index":0}).hide();1==a.transition&&C&&f.show().setStyle("transition","opacity "+a.transitionTime+"ms "+N);2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||f.left(l*c);3==a.transition&&f.top(p*c);d[c].el=f}});if(a.navThumb){A=parseInt(e.find(".nav-image").width());B.width((A+H)*d.length);var La=function(){var a=B.find(".nav-image.active").left();B.left();var c=B.width(),f=S.width(),a=2*(S.find(".nav-image").width()+
H)-a;0<a&&(a=0);a<f-c+H&&(a=f-c+H);B.width()<S.width()&&(a=S.width()/2-B.width()/2);g.supportTransition?B.left(a):g.timer({from:B.left(),to:a,onProcess:function(a){B.left(a)},onFinish:function(a,b){B.left(b)}}).run()}}else S.remove();a.navDot||D.remove();var Ea=function(a){};a.navButton?(a.navButtonParentIsRoot&&e.find(".nav-next, .nav-back").appendTo(e),Ea=function(b){b=a.navButtonTemplate;g.isFunction(b)&&(b=b(x,d[x]));b=b.format(d[x])+"";b=g(b).addClass("nav-back").setAttr("data-index",x);var c=
e.find(".nav-back").item(0);b.insertBefore(c).click(function(){Fa()});c.remove();b=a.navButtonTemplate;g.isFunction(b)&&(b=b(w,d[w]));b=b.format(d[w])+"";b=g(b).addClass("nav-next").setAttr("data-index",w);c=e.find(".nav-next").item(0);b.insertBefore(c).click(function(){na()});c.remove()}):e.find(".nav-back, .nav-next").remove();if(a.navThumbSlider){var A=g("<div></div>").appendTo(e).addClass("nav-slider-wrap"),O=g("<div></div>").html(ka).appendTo(A);O.addClass("imageslider-linear-navigation").makeSlider({slideitem:a.slideitem,
theme:"linear",border:!1,preload:!1,autoplay:!1,navButton:a.navThumbSliderNavButton,navThumb:!1,navDot:!1,showInfo:!1,linkTitle:!1,linkCover:!1,contentSlide:a.contentSlide,usePercentWidth:a.navThumbSliderUsePercentWidth,transition:a.navThumbSliderTransition,transitionTime:a.navThumbSliderTransitionTime,transitionTimingfunction:a.navThumbSliderTransitionTimingfunction,autoHeight:a.navThumbSliderAutoHeight}).on("slider.click",function(a){t(a.data.index)});e.on("slider.change",function(a){O.find(".image-hold").removeClass("main-slider-active");
var c=O.find(".image-hold.image"+a.data.index).addClass("main-slider-active"),f=parseInt(O.find(".image-view-wrap").getData("real-pos")),d=O.width(),e=c.left(),c=c.width();(0>f+e||f+e+c>d)&&O.slideTo(a.data.index)})}a.linkTitle&&la.hover(function(){e.addClass("linktitlehover")},function(){e.removeClass("linktitlehover")});a.linkCover?X.hover(function(){e.addClass("linkcoverhover")},function(){e.removeClass("linkcoverhover")}):X.remove();e.setStyle("overflow","visible");var Ga=0,t=function(b,c,f,ba,
n){f=f||!1;ba=ba||!1;n=n||!1;if(G)if(b=parseInt(b),K.isRunning()&&K.stop(),b>=d.length&&(b=d.length-1),0>b&&(b=0),2!=F&&"function"==typeof a.allowChange&&a.allowChange(b)){if(q=k,k=b,n||f||k!=q){d[b]&&(Ba=d[b].srclarge||d[b].src,Y=d[b].title,J=d[b].link,ma=d[b].description,J=d[b].link);g.moduleTransition&&e.find(".image"+q+" ."+a.customTransitionClass).stopTransition().unsetTransition();c=c||{};c=g.extend({index:k,oldindex:q,image:Ba,title:Y,description:ma,link:J},c);h.find(".image"+k).setStyle("z-index",
Ka++);f=f||!1;switch(a.transition){case 1:C?(h.find(".image"+k).setStyle("opacity",1),1<d.length&&h.find(".image"+q).setStyle("opacity",0)):Ma.stop().run();break;case 2:case 203:case 204:if(a.sequent||0>q)r=-l*b;else{m=q<k?1:-1;"direction"in c&&(m="next"==c.direction?1:-1);h.find(".image"+k).left(h.find(".image"+q).left()+l*m);r-=l*m;n=h.find(".image"+q).left();for(var V=[0,[1,2],[-1,-0],[2,3],[-2,-1],[3,4],[-3,-2],[4,5],[-4,-3],[5,6],[-5,-4],[6,7],[-6,-5],[7,8],[-7,-6],[8,9],[-8,-7],[9,10],[-9,-8],
[10,11],[-10,-9]],E=1;E<V.length;E++)d.length>E&&h.find(".image"+P(k+V[E][0]*m)).left(n+V[E][1]*l*m)}0>q&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).left(-l);f?(aa(),u(r,!0),U.delay(100)):C?u(r,!0):oa.stop().set({from:y,to:r}).run();break;case 3:a.sequent||0>q?r=-p*b:(m=q<k?1:-1,"direction"in c&&(m="next"==c.direction?1:-1),h.find(".image"+k).top(h.find(".image"+q).top()+p*m),r-=p*m,n=h.find(".image"+q).top(),1<d.length&&h.find(".image"+P(k+1*m)).top(n+2*l*m),2<d.length&&h.find(".image"+
P(k-1*m)).top(n-0*l*m),3<d.length&&h.find(".image"+P(k+2*m)).top(n+3*l*m),4<d.length&&h.find(".image"+P(k-2*m)).top(n-1*l*m));0>q&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).top(-p);f&&(aa(),u(r,!0),U.delay(100));C?u(r,!0):oa.stop().set({from:y,to:r}).run();break;case 201:case 202:case 205:if(a.sequent||0>q){if(V=r,r=-l*b,E=v.width()-Ga-l*d.length,r<E&&(r=E),V==r&&!n&&0>E)return t("direction"in c&&"prev"==c.direction?b-1:0,c,f,ba,!0)}else m=q<k?1:-1,"direction"in c&&(m="next"==c.direction?
1:-1),h.find(".image"+k).left(h.find(".image"+q).left()+l*m),r-=l*m,n=k+m,0>n&&(n=d.length-1),n>=d.length&&(n=0),1<d.length&&h.find(".image"+n).left(h.find(".image"+q).left()+2*l*m),5<=d.length&&(n+=m,0>n&&(n=d.length-1),n>=d.length&&(n=0),2<d.length&&h.find(".image"+n).left(h.find(".image"+k).left()+2*l*m));0>q&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).left(-l);f?(aa(),u(r,!0),U.delay(100)):C?u(r,!0):oa.stop().set({from:y,to:r}).run();break;default:h.find(".image"+k).setStyle("opacity",
1).show(),1<d.length&&h.find(".image"+q).setStyle("opacity",0).hide()}a.linkTitle&&""!=J?la.html('<a href="'+J+'">'+Y+"</a>"):la.html(Y);a.linkCover&&""!=J&&X.find("a").setAttr("href",J);Ja.html(ma);h.find(".image-hold").removeClass("active active-next active-back active-next2 active-back2 out-of-range");L(b,"active");1<d.length&&L(b+1,"active-next");2<d.length&&L(b-1,"active-back");3<d.length&&L(b+2,"active-next2");4<d.length&&L(b-2,"active-back2");e.find(".nav-image, .nav-dot").removeClass("active");
e.find(".nav-image[data-index="+b+"], .nav-dot[data-index="+b+"]").addClass("active");a.navThumb&&La();g.moduleTransition&&h.find(".image"+k+" ."+a.customTransitionClass).playTransition({autoplay:!1});x=k-1;w=k+1;if(202==a.transition||205==a.transition)f=parseInt(v.width()/l),x=k-f,w=k+f,0>=x+f?x=d.length-f:0>x&&(x=0),w>=d.length?w=0:w+f>d.length&&(w=d.length-f);if(204==a.transition||205==a.transition)f=parseInt(v.width()/l),L(b-1,"out-of-range"),L(b+f,"out-of-range");a.autoHeight&&2==a.transition&&
ca();0>x&&(x=d.length-1);w>=d.length&&(w=0);Ea(c);ba||(a.onChange(c),e.trigger("slider.change",c));a.autoplay&&(b=a,g.isObject(d[k].option)&&(b=g.extend(b,d[k].option)),K.set({time:b.autoplayTime}).run())}}else a.autoplay&&K.run();else a.autoplay&&K.run()},P=function(a){a>=d.length&&(a-=d.length);0>a&&(a=d.length+a);return a},L=function(a,c){a=P(a);h.find(".image-hold.image"+a).addClass(c)},Ma=g.timer({from:0,to:1,time:a.transitionTime,onStart:function(a,c){h.find(".image"+k).setStyle("opacity",0).show();
h.find(".image"+q).setStyle("opacity",1).show()},onProcess:function(a,c,f){h.find(".image"+k).setStyle("opacity",a);h.find(".image"+q).setStyle("opacity",1-a)},onStop:function(a,c){h.find(".image"+k).setStyle("opacity",1);h.find(".image"+q).setStyle("opacity",0).hide()},onFinish:function(a,c){h.find(".image"+k).setStyle("opacity",1);h.find(".image"+q).setStyle("opacity",0).hide()}}),oa=g.timer({from:0,to:1,time:a.transitionTime,transition:a.transitionTimingfunction,onStart:function(a,c){},onProcess:function(a,
c,f){u(a)},onStop:function(a,c){},onFinish:function(a,c){u(c,!0)}}),u;2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||!C?3==a.transition&&C?u=function(a,c){y=a;h.setStyle("transform","translate3d(0, "+a+"px, 0)");h.setData("real-pos",y)}:2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition?u=function(a,c){y=a;Da.style.left=a+"px";c&&h.setData("real-pos",y)}:3==a.transition&&(u=
function(a,c){y=a;Da.style.top=a+"px";c&&h.setData("real-pos",y)}):u=function(a,c){y=a;h.setStyle("transform","translate3d("+a+"px, 0, 0)");h.setData("real-pos",y)};var na=function(){t(w,{direction:"next"})},Fa=function(){t(x,{direction:"prev"})},F=0,pa=0,I=0,da=0,qa=d.length,ra=!1;!C||2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition&&3!=a.transition||!g.isTouchDevice()&&!a.dragSlide||e.drag({direction:2==a.transition||201==a.transition||
202==a.transition||203==a.transition||204==a.transition||205==a.transition?"horizontal":"vertical",onStart:function(b,c){if(0==F){F=1;if(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)I=b.touchX();3==a.transition&&(I=b.touchY())}},onDrag:function(b,c,f,d){if(0!=F){ra=!0;c=b.touchX();b=b.touchY();if(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)da=c-I;3==a.transition&&(da=
b-I);1==F&&0!=da&&(F=2,pa=y,aa());if(2==F){f=1;if((2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&0==k&&c>I||(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&k==qa-1&&c<I||3==a.transition&&0==k&&b>I||3==a.transition&&k==qa-1&&b<I)f=3;u(pa+da/f)}}},onDrop:function(a,c,f,d){2==F&&(F=0,a=y<pa?k+1:k-1,a=Math.min(Math.max(a,0),qa-1),U(),a!=k?t(a):u(-l*a))}});var Ha=!1,sa=function(){Ha?
t(k,{},!0,!0,!0):Ha=!0},ta=function(){v&&(R=g("<div></div>").addClass("imageslider-raw"),R.insertAfter(v),R.html(ka),e.addClass("slider-disabled"),v.hide(),G=!1)},ua=function(){R&&R.remove();v.show();e.removeClass("slider-disabled");G=!0};if(a.fullscreenWidth||a.fullWidth||a.fullHeight){(a.fullscreenWidth||a.fullWidth)&&e.addClass("fullwidth");a.fullHeight&&e.addClass("fullheight");var ea=function(){var b=a.fullscreenWidth?Q.width():M.width();0<a.autoDisableWhenWidthLessThan&&(b<=a.autoDisableWhenWidthLessThan&&
!0===G?ta():b>a.autoDisableWhenWidthLessThan&&!1===G&&ua());0<a.autoDisableWhenWidthLargerThan&&(b>=a.autoDisableWhenWidthLargerThan&&!0===G?ta():b<a.autoDisableWhenWidthLargerThan&&!1===G&&ua());if(G){if(2==a.transition||203==a.transition)a.sequent||(r=r*b/l),h.find(".image-hold").each(function(c,d){var e=g(c);a.sequent?e.left(b*d):e.left(e.left()*b/l)}),u(r);l=b;var c=p;0<a.scaleHeightWhenWidthLessThan&&(l<=a.scaleHeightWhenWidthLessThan?(a.fullHeight&&e.removeClass("fullheight"),p=Z*l/a.scaleHeightWhenWidthLessThan):
a.fullHeight?(e.addClass("fullheight"),p="",Z=M.height()):p=Z,h.height(p),T.height(p));3==a.transition&&(a.sequent||(r=r*p/c),h.find(".image-hold").each(function(b,d){var e=g(b);a.sequent?e.top(p*d):e.top(e.top()*p/c)}),u(r));2!=a.transition&&203!=a.transition&&3!=a.transition||sa()}};g(window).on("resize",function(){ea.delay(500)}).trigger("resize");0<parseInt(g(document.body).getData("zmodulescrollbarid",0))&&ea.delay(500)}a.usePercentWidth&&(A=function(){l=T.width();for(var a=0,c=0;c<d.length;c++){var f=
g(d[c].el);f.left(a);a+=f.width()}sa.delay(1)},g(window).on("resize",A),A.delay(500));var ca=function(){};a.autoHeight&&(ca=function(){var b=0;if(0==a.transition||1==a.transition||2==a.transition){var c=d[k].customEl.height();c>b&&(b=c)}(201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&a.contentSlide&&d.each(function(a){a=a.customEl.height();a>b&&(b=a)});b&&(v.height(b),T.height(b),h.height(b))},g(window).on("resize",ca),ca.delay(500));var fa=a.playButton?
e.find(".play-wrap"):!1,ga=a.playButton?e.find(".play-process-bar"):!1,K=g.timer({time:a.autoplayTime,transition:"linear",onProcess:function(a){ga&&ga.height(a+"%")},onStop:function(){ga&&ga.height("0%")},onFinish:function(){na()}}),ha=function(){a.autoplay=!0;K.stop().run();fa&&fa.addClass("pause")},va=function(){a.autoplay=!1;K.stop();fa&&fa.removeClass("pause")};a.playButton&&e.find(".play-wrap").click(function(b){b.preventDefault();a.autoplay?va():ha()});a.navDot||a.navThumb||a.navButton&&!a.navButtonParentIsRoot||
e.find(".nav-wrap").remove();a.playButton||e.find(".play-wrap").remove();a.border||e.find(".image-view-border").remove();!a.contentSlide&&a.showInfo||e.find(".image-info-wrap").remove();(202==a.transition&&a.navDot||204==a.transition||205==a.transition)&&g(window).on("resize",function(){var b=parseInt(v.width()/l);202!=a.transition&&205!=a.transition||!a.navDot||Aa.find(".nav-dot").each(function(a,c){0==c%b?g(a).show():g(a).hide()});if(204==a.transition||205==a.transition){var c=(v.width()-b*l)/2;
Ga=2*c;v.setStyle({paddingLeft:c,paddingRight:c})}}).trigger("resize");var ia=!1,ja=!1,W=function(b){if(a.popup){try{if(b=0!==b?b||-1:0,0>b||b>=d.length)b=k}catch(h){b=k}var c=g('<div class="imageslider-popup-page-cover"></div>').appendTo(document.body);c.addClass(a.popupPageCoverClass);var f=g('<div class="imageslider-popup-container"><a class="imageslider-popup-close-button">&times;<i class="icon"></i></a><div class="imageslider-popup-wrap"><div class="inpopup-imageslider"></div></div></div>').appendTo(document.body),
l=f.find(".imageslider-popup-close-button"),n=f.find(".inpopup-imageslider");f.addClass(a.popupContainerClass);Q.addClass("imageslider-popup-show");a.popupAllowKeyboard&&n.addClass("allow-keyboard");e.setData("popupsliderels_popupPageCoverEl",c);e.setData("popupsliderels_popupContainerEl",f);e.setData("popupsliderels_inpopupSliderEl",n);n.setData("parent_SliderEl",e);c.fadeIn({time:a.popupAnimateTime});a.popupAnimate&&f.addClass("zui-popup hide-before-animate "+a.popupAnimateName).setStyle("animation-duration",
a.animateTime+"ms");n.on("slider.ready",function(){va();a.popupAnimate?(f.removeClass("hide-before-animate"),window.clearTimeout(ia),window.clearTimeout(ja),f.addClass("showing animate animate-start"),ia=function(){f.addClass("animate-end")}.delay(a.popupAnimateTime),ja=function(){f.removeClass("showing animate animate-start animate-end")}.delay(a.popupAnimateTime+100)):f.fadeIn();e.trigger("slider.popup.show",{index:b,info:d[b]})});var m=g.extend(g.clone(a),{popup:!1,popupOnly:!1,popupShowOnClick:!1,
popupHideOnClickOut:!1,popupCloseButton:!1,startIndex:b,autoplay:a.popupAutoplay,autoplayTime:a.popupAutoplayTime,playButton:a.popupPlayButton,navButton:a.popupNavButton,navButtonParentIsRoot:a.popupNavButtonParentIsRoot,navThumb:a.popupNavThumb,navDot:a.popupNavDot,linkTitle:a.popupLinkTitle,linkCover:a.popupLinkCover,sequent:a.popupSequent,fullWidth:a.popupFullWidth,fullscreenWidth:a.popupFullscreenWidth});!1!==m.popupTransition&&(m.transition=m.popupTransition);!1!==m.popupTransitionTime&&(m.transitionTime=
m.popupTransitionTime);!1!==m.popupTransitionTimingfunction&&(m.transitionTimingfunction=m.popupTransitionTimingfunction);(function(){n.html(ka);n.setData("zmodulesliderlinearispopup",!0).makeSlider(m)}).delay(100);a.popupHideOnClickOut&&c.click(function(a){a.preventDefault();wa()});a.popupCloseButton?l.click(function(a){a.preventDefault();wa()}):l.remove()}},A=function(b){var c=!1;if(ra)ra=!1;else{!g(b.target()).is("a[href]")&&0>=g(b.target()).findUp("a[href]").count()&&!g(b.target()).is("input,textarea,label")&&
!g(b.target()).is("textarea")&&(b.preventDefault(),c=!0);var d=-1;(b=b.target())&&(b=g(b));b.hasClass("image-hold")||(b=b.findUp(".image-hold"));b.hasClass("image-hold")||(b=!1);b&&(d=parseInt(b.getData("image-index",-1)));0<=d?(a.popup&&a.popupShowOnClick&&W(d),e.trigger("slider.click",{index:d},function(b){203==a.transition&&c&&!b.isDefaultPrevented&&t(d)})):a.popup&&a.popupShowOnClick&&W()}};h.click(A);X.click(A);var wa=function(){if(a.popup){var b=e.getData("popupsliderels_popupPageCoverEl"),
c=e.getData("popupsliderels_popupContainerEl"),d=e.getData("popupsliderels_inpopupSliderEl");d&&d.slidePause();c&&(a.popupAnimate?(window.clearTimeout(ia),window.clearTimeout(ja),c.addClass("hiding animate animate-start"),ia=function(){c.addClass("animate-end")}.delay(a.popupAnimateTime),ja=function(){c.removeClass("hiding animate animate-start animate-end");c.remove()}.delay(a.popupAnimateTime+100)):c.removeSlow());b&&b.fadeOut({time:a.popupAnimateTime,callback:function(){b.remove();Q.removeClass("imageslider-popup-show")}});
e.trigger("slider.popup.hide")}};e.trigger("slider.ready");var xa=!1;"function"==typeof g.loadImages&&(a.preload&&(xa=g('<div class="slider-loading-wrap"><div class="text-wrap"><span class="percent"></span>%</div></div>').appendTo(z)),g.loadImages({images:function(){for(var a=[],c=0;c<d.length;c++)"undefined"!=typeof d[c].src&&""!=d[c].src&&a.push(d[c].src),"undefined"!=typeof d[c].srclarge&&""!=d[c].srclarge&&a.push(d[c].srclarge),"undefined"!=typeof d[c].srcpopup&&""!=d[c].srcpopup&&a.push(d[c].srcpopup);
return a}(),onLoading:function(b){a.preload&&xa.find(".percent").html(b.toString())},onFinish:function(){if(a.preload&&(!a.debug||"loading"!=a.debug)){xa.removeSlow();t(0,{},!0,!0);1<d.length&&(t(1,{direction:"next"},!0,!0),t(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(var b=0;b<a.startIndex;)t(++b,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&ea();a.autoplay&&ha();e.trigger("slider.load")}}}));if(!a.preload){t(0,{},!0,!0);1<d.length&&(t(1,{direction:"next"},!0,!0),t(0,{direction:"prev"},
!0,!0));if(0<a.startIndex)for(z=0;z<a.startIndex;)t(++z,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&ea();a.autoplay&&ha();e.trigger("slider.load")}return{slideTo:t,slideNext:na,slidePrev:Fa,slidePlay:ha,slidePause:va,slidePopupShow:W,slidePopupHide:wa,slideRefresh:sa,slideDisable:ta,slideEnable:ua}});g(document).on("keydown",function(z){if(37==z.keyCode()||39==z.keyCode()||27==z.keyCode()){var d=g(".inpopup-imageslider.allow-keyboard");0>=d.count()||(37==z.keyCode()&&d.slidePrev(),
39==z.keyCode()&&d.slideNext(),27==z.keyCode()&&d.getData("parent_SliderEl").slidePopupHide())}});"required"in g&&g.required("image.slider.theme.linear")});